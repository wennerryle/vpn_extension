(()=>{let e=!1;const t=document.querySelectorAll("[id]"),n=()=>{const t=location.pathname.split("/").pop();let e="dns.html";t==="start_edge.html"?e="dns_edge.html":t==="start_yandex.html"&&(e="dns_yandex.html");try{document.getElementById("dns").onclick=()=>{chrome.tabs.create({url:`/lib/common/${e}`})}}catch{}},s=()=>{t.forEach(e=>{const n=e.id,t=chrome.i18n.getMessage(`start_page_${n}`);t&&(e.innerHTML=t)})},o=()=>{const e=chrome.i18n.getUILanguage(),t=e.indexOf("ru")!==-1?"en":"ru",n=document.getElementsByClassName(t);[].forEach.call(n,e=>{e.style.display="none"})},i=()=>{setTimeout(()=>{if(!e){const e=document.querySelector("#installing"),t=chrome.i18n.getMessage("start_page_installed")||"VPN-free.pro installed successfully and running!";e.innerHTML=t,e.style.color="#2cc12c"}},6e4)},a=()=>{const e=chrome.i18n.getMessage("start_page_error_document_title");document.title=document.title===e?"VPN-free.pro":e},r=()=>{chrome.runtime.onMessage.addListener(t=>{if(t?.error){e=!0,window.scrollTo(0,0),setInterval(a,1e3);const t=document.querySelector("#installing"),s=document.querySelector(".text-flicker"),o=document.querySelector(".progress");t.innerHTML=chrome.i18n.getMessage("start_page_error_dns_title"),t.style.color="#ff0000",s.style.animation="none",s.innerHTML=chrome.i18n.getMessage("start_page_error_dns_text"),o.style="display: none;",n()}})};s(),o(),i(),r()})()